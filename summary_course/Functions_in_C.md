## Functions in C

### 함수가 필요할 때

함수라는 기능은 프로그래밍의 기능을 확장하고자 할 때, 완전히 동일한 기능을 하는 코드가 두번 이상 있을 때 등 유지 보수의 편리함을 위해 많이 사용한다.

- **리팩토링(Refactoring)** : 외부 동작을 바꾸지 않으면서, 내부구조를 개선하는 방법

- **프로토 타입(Prototype)** : 입출력이 무엇인지 알려주는 선언

  `main()` 함수에 정의 된 함수들은 프로토 타입만 있어도 빌드를 할 수 있다. 프로토타입만 선언하고, 안에 함수 내용은 넣지 않아도 빌드는 가능하다.(실행파일을 만드는 링킹단계에서는 오류가 난다.) 또한, 변수이름을 넣지 않아도 빌드 가능.

- **함수 관련 용어** :

  - 매개변수(Parameter) : 어떤 값이 들어오는지 일반화한 상태
  - 인수, 인자(Argument) : 실제 어떤 값이 들어가는 것('파라미터에 인자를 넣는다' 라고 표현함)
  - `void` : 없다는 의미.

### 함수에서 자료형과 반환값

- 정수형 반환자료형(`int`)은 생략 가능하다. (아무 선언도 없으면 `int` 라고 판단한다.)

- 분기문을 썼을 때는 어떤 케이스든 return이 있어야 한다.

- 반환값 없이 `return ;` 도 가능하다.

- 오류 예시

  ```c
  int var_name(){
  	...
  	return (float)int_var;
  };
  ```

  > 정수형 반환값을 억지로 'float' 형태로 바꾸더라도 최종적으로 함수는 선언기준으로 판단하기 때문에 `error` 가 발생한다.

### 변수의 영역 Scope 와 지역변수 Local value

지역변수는`블록{ }` 내에서 선언된 변수를 의미한다. 해당 블록 내에서만 유효하고, 블록이 종료되면 메모리에서 사라진다.

Scope 라고 표현하는 변수의 영역(유효범위)는 변수 선언 위치에 따라 변경된다.

|   변수 종류   |  키워드  |    선언 위치     |    유효 범위     |
| :-----------: | :------: | :--------------: | :--------------: |
|   지역 변수   |   auto   | 함수/블록의 내부 | 함수/블록의 내부 |
|   전역 변수   |  extern  |   함수의 외부    |  프로그램 전체   |
|   정적 변수   |  static  | 함수/블록의 내부 | 함수/블록의 내부 |
| 레지스터 변수 | register | 함수/블록의 내부 | 함수/블록의 내부 |

|   변수 종류   | 메모리 소멸 시기 |      초깃값      |        저장 장소         |
| :-----------: | :--------------: | :--------------: | :----------------------: |
|   지역 변수   |   함수 종료시    | 초기화되지 않음. |     스택(stack) 영역     |
|   전역 변수   | 프로그램 종료시  | 0으로 초기화됨.  |    데이터(data) 영역     |
|   정적 변수   | 프로그램 종료시  | 0으로 초기화됨.  |    데이터(data) 영역     |
| 레지스터 변수 |   함수 종료시    | 초기화되지 않음. | CPU의 레지스터(register) |

- 파일 영역 변수 : 프로그램의 바깥쪽 영역에 정의된 변수면 파일 내 모든 영역에서 사용할 수 있다.

- 지역변수를 사용하며 메모리가 `stack` 되는 과정 :

  <p align ='center'><img src="https://github.com/dannylee93/Images/blob/master/Other/stack_memory.JPG?raw=true" alt="stack memory" style="zoom:67%;" /></p>

### 재귀 호출 Recursion

어떤 함수가 자신을 호출하면서 프로그래밍 하는 방식을 말한다. 다만, 재귀호출을 여러번 사용시 메모리의 `Stack` 이 증가하여 `오버플로우` 현상이 발생한다. 

- Stop Condition에 유의해야한다.

- 재귀호출과 스택:

  함수를 실행하기 위한 기본적인 것들을 같이 메모리로 사용한다. 또한 변수/값 뿐만 아니라 함수와 관련된 것도 `Stack` 된다.

- Factorial 예제 힌트 :

  ```
  5! = 5 * 4! (...)
  ```

  - 루프방식 혹은 재귀방식으로 구현해보기

- 이진수 변환 예제 힌트 :

  ```
  10 = 10/2 = 5 ... 0
  	 5/2 = 2 ... 1
  	 2/2 = 1 ... 0
  	 1/2 = 0 ... 1
  ```

- 피보나치 예제 힌트 :

  ```
  //Fibonacci sequence : 1 1 2 3 5 8 13 21 34 (...)
  fibonacci(5) == 3 + 2 == fibonacci(4) + fibonacci(3)
  ```

  

## 기타

- 문자 상수가 하나라면 `' '` , 여러 개라면 `" "`

- 포인터 주소 출력하기

  ```c
  //변수명에 & 기호를 붙이면 해당 변수의 메모리 주소를 출력한다.
  printf("%p", &var_name);
  ```

## References

- [홍정모 교수님의 따라하며 배우는 C언어](https://www.inflearn.com/course/following-c)
- [TCP SCHOOL](http://tcpschool.com/c/intro)